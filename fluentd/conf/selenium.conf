<source>
  @type forward
  port 24224
</source>
<filter selenium>
    @type record_transformer
    <record>
        host_param "#{Socket.gethostname}"
    </record>
    # @type parser
    # key_name log
    # <parse>
    #     @type regexp
    #     expression /^(?<timestamp>[^ ]+) (?<level>[^ ]+) - (?<message>.*)$/
    # </parse>
</filter>

# <match flask.log>
#   @type file
#   path /output
# </match>
<match selenium>
  @type elasticsearch
  host elasticsearch
  port 9200
  index_name selenium
  # type_name flask
</match>

<filter opentelemetry>
    @type parser
    key_name message
    <parse>
      @type json
    </parse>
    # format none
    # time_key time
    # time_format %Y-%m-%dT%H:%M:%S.%N%z
    @type stdout 
</filter>

<match opentelemetry>
  @type elasticsearch
  host elasticsearch
  port 9200
  index_name opentelemetry
</match>